# PureSing 纯净K歌

PureSing 是一个基于 Web 的现代化 KTV 应用，旨在提供纯净、低延迟的在线 K 歌体验。它完全运行在浏览器中，无需安装任何客户端，支持伴奏导入、歌词解析、实时录音、耳返监听以及最终的混音导出。

## ✨ 核心特性

*   **纯前端架构**：利用现代 Web Audio API 实现，隐私安全，所有音频处理均在本地完成。
*   **多格式歌词支持**：
    *   支持 **LRC** (逐字/逐句格式均可)
    *   支持 **SRT** (字幕文件)
    *   支持 **ASS** (高级字幕)
    *   **逐字精准渲染**：支持类似卡拉 OK 的逐字渐变高亮效果，视觉体验极佳。
*   **专业级音频处理**：
    *   **AudioWorklet 录音**：使用独立音频线程进行录制，确保录音过程流畅不卡顿。
    *   **实时耳返 (Monitor)**：支持低延迟的麦克风监听功能。
    *   **延迟补偿**：可手动调节人声延迟（支持提前或推后），解决硬件延迟带来的录音不同步问题。
    *   **高品质导出**：支持导出纯干声44.1kHz 32bit WAV 或 伴奏+人声的混合音频。
*   **现代化 UI**：基于 Tailwind CSS 构建的深色模式界面，包含实时音频可视化频谱。

## 🛠️ 技术栈

*   **框架**: [React 19](https://react.dev/) + [Vite](https://vitejs.dev/)
*   **样式**: [Tailwind CSS v4](https://tailwindcss.com/)
*   **图标**: [Lucide React](https://lucide.dev/)
*   **音频**: Web Audio API (AudioContext, AudioWorklet, OfflineAudioContext)

## 🚀 快速开始

### 1. 安装依赖

```bash
npm install
# 或者
yarn
# 或者
pnpm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

浏览器访问控制台输出的地址 (通常是 `http://localhost:5173`) 即可开始使用。

### 3. 构建生产版本

```bash
npm run build
```

## 📖 使用指南

1.  **导入资源**：
    *   点击左侧面板的 **“音乐图标”** 区域导入伴奏文件 (MP3/WAV)。
    *   点击 **“文档图标”** 区域导入歌词文件 (LRC/SRT/ASS)。
2.  **调整设置**：
    *   如需听到自己的声音，可开启 **“耳返监听”**。
    *   根据设备情况，调节 **“人声延迟补偿”** 滑块，确保录音与伴奏对齐。
3.  **开始 K 歌**：
    *   点击底部的 **“播放/录音”** 按钮。
    *   跟随屏幕歌词演唱。
    *   支持 **“跳过尾奏”** 功能，提前结束录制。
4.  **预览与导出**：
    *   录制完成后会自动弹出预览窗口。
    *   可以在预览窗口调整 **“人声响度”**。
    *   满意后选择 **“保留录音”**，然后使用左侧面板的 **“导出完整作品”** 下载混合后的 WAV 文件。

## ⚠️ 注意事项

*   推荐使用 **Chrome** 或 **Edge** 等现代浏览器以获得最佳的 AudioWorklet 支持。
*   为了获得最佳录音效果，**强烈建议佩戴耳机**使用，以避免回声（虽然浏览器自带回声消除，但物理隔离效果最好）。
